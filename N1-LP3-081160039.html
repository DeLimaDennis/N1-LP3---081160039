<!DOCUMENT HTML>
<HTML>
   <HEAD>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <!-- A biblioteca bundle já contem os arquivos JS do Bootstrap, Popper, e jQuery.
         <script src="js/bootstrap.bundle.js"></script>-->
      <title>Pesquisa foto de cachorro</title>
      <LINK REL="stylesheet" HREF="css/bootstrap.css" />
	<LINK REL="stylesheet" HREF="Trab.css" />
            <SCRIPT>
         var url;
         
         function createDogPic(nData) {
                 
                 var a = document.createElement("ARTICLE"); // Create a <ARTICLE> element
                 a.setAttribute("class", "card");
         
                 var nImg = document.createElement("IMG"); // Create a <H2> element
                 
                 nImg.src = nData.message; // Create a text node
                 nImg.style.width = '50%'; //The full width is 400px, 10px of border left and right
		 nImg.style.marginLeft= '25%';
               
                 a.appendChild(nImg);
               
         
                 document.getElementById("aluno").appendChild(a);
         
           
             
             
             document.querySelectorAll('img').forEach(function(img){
                 img.onerror = function(){ this.style.display='none'; };
             });
           
         } 
         
         function reloadPage() {
         
             url = 'https://dog.ceo/api/breeds/image/random';
             document.getElementById("aluno").innerHTML = "";
             console.log(url);
         
             var xhr = new XMLHttpRequest();
         
             xhr.onload = function() {
         
                 if (xhr.status >= 200 && xhr.status < 300) {
         
                     console.log('success', JSON.parse(xhr.responseText));
                     var dogpic = JSON.parse(xhr.responseText);
                     createDogPic(dogpic);                    
                 } else {
                     
                     let error_message= "Ops! Erro!!!<br>" + xhr.statusText;
                     console.log(error_message);
                     document.getElementById("aluno").innerHTML = error_message;
                 } //if
         
             };
         
             xhr.open('GET', url);
             xhr.send();
             
         } //reloadPage
         
         
         
      </SCRIPT>
	<STYLE>
		Body{ background-color:gray;}
	</STYLE>
   </HEAD>
   <BODY onload="reloadPage();" lang="pt-br">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
         </button>
         <a class="navbar-brand" href="#">&#x1F981; FTT EC LP N1!!!</a>
        
      </nav>
  <h1 style = "text-align: center;">
         Dennis Lima  -  081160039
      </h1>
      <p id= "titulo" style="margin-top: 100px; font-style: 100px; font-size: 50px; text-align: center;  color:red ;">Fotos de Cachorros!</p>
<button id= "botao" class="CorBotao BotaoGrande" style="margin-top: 100px; font-size: 30px; margin-top: 30px; margin-left: 38%;" onClick="reloadPage();">Gerar outra foto!</button> 
      <main class="container" id="aluno">
         <hr>
         <h1><span class="badge badge-success">Projeto do aluno!!</span></h1>
      </main>
      
    
      <nav class="navbar fixed-bottom navbar-light bg-light width-button-bar">
         <div class="row w-100">
            <div class="col-sm center-txt"><b onclick='window.location="tab01news.html"'>News<br><span class="icon-font">&#x1f4f0;</span></b>
            </div>
            <div class="col-sm center-txt"><b onclick='window.location="tab02map.html"'>Map<br><span class="icon-font">&#x1f4cc;&#xFE0E;</span></b>
            </div>
            <div class="col-sm center-txt"><b onclick='window.location="tab03todo.html"'>Todo<br><span class="icon-font">&#x1F4DD;</span></b>
            </div>
            <div class="col-sm center-txt button-selected"><b onclick='window.location="tab04project.html"'>Fotos de cachorro<br><span class="icon-font">&#x1F981;</span></b>
            </div>
         </div>
      </nav>
   </BODY>
   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
</HTML>